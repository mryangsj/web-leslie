<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="index_2.css">
</head>
<body>
    <div class="header">
        <input type="text" id="textInput" onclick="openFileUploader()" readonly placeholder="Load Preset">
        <input type="file" id="fileInput" accept=".mp3, .wav, .ogg, .aac" onchange="handleFileSelect(event)">
        <audio controls id="audioPlayer">
          Your browser does not support the audio element.
        </audio>
    </div>
    <div class="main">
      <!-- <div class="decoration"></div> -->
      <!-- <div class="decoration" style="right: 0;"></div> -->
      <div class="left_control">
        <div class="decoration" style="left: 0;"></div>
        <div class="button_container">
          <button onclick="toggleColor(this,0)">SETUP</button>
          <button onclick="toggleColor(this,1)">AMP</button>
          <button onclick="toggleColor(this,2)">EQ</button>
        </div>
        <div class="knob_container knob_container_hide" id="knob_container1">
          <div id="knobSpring"></div>
          <div id="knobMicDistance"></div>
          <div id="knobLowSpeed"></div>
          <div id="knobAcce"></div>
          <div id="knobFastSpeed"></div>
          <div id="knobDece"></div>
        </div>

        <div class="knob_container knob_container_hide" id="knob_container2">
          <div id="knobGain"></div>
          <div id="knobVolume"></div>
          <div id="knobHPF"></div>
          <div id="knobLow"></div>
          <div id="knobMid"></div>
          <div id="knobHigh"></div>
        </div>

        <div class="knob_container knob_container_hide" id="knob_container3">
          <div id="knobHighF"></div>
          <div id="knobHighG"></div>
          <div id="knobMidF"></div>
          <div id="knobMidQ"></div>
          <div id="knobMidG"></div>
          <div id="knobLowF"></div>
          <div id="knobLowG"></div>
        </div>

      </div>
      <div class="middle_control">2</div>
      <div class="right_control">
        <div class="button_contain_right">
          <button class="button_link" id="button_link1">link</button>
          <button class="button_link" id="button_link2" style="margin-left: 12%;">link</button>
        </div>
        <div class="knob_contain_right">
          <div id="knobLinkLR1"></div>
          <div id="knobLinkLR2"></div>
          <div id="knobLinkLR3"></div>
          <div id="knobLinkLR4"></div>
        </div>
        <div class="slider-container">
          <div class="slider-dec">
            <div class="slider-output" id="slider-horn-l">
              <div class="slider_inside"></div>
              <div class="slider-handle" id="handle-horn-l"></div>
            </div>
            <div class="slider-output" id="slider-horn-r">
              <div class="slider_inside"></div>
              <div class="slider-handle" id="handle-horn-r"></div>
            </div>
          </div>
          <div class="slider-dec" >
            <div class="slider-output" id="slider-drum-l">
              <div class="slider_inside"></div>
              <div class="slider-handle" id="handle-drum-l"></div>
            </div>
            <div class="slider-output" id="slider-drum-r">
              <div class="slider_inside"></div>
              <div class="slider-handle" id="handle-drum-r"></div>
            </div>
          </div>     
          <div class="slider-dec">
            <div class="slider-output" id="slider-output">
            <div class="slider_inside"></div>
            <div class="slider-handle" id="handle-output"></div>
          </div>
        </div>
      </div>
      <div class="decoration " style="right: 0;"></div>
    </div>
    <div class="footer-text">LESLIE</div>
    <script src="./js/Knob.js"></script>
    <script src="index_2.js"></script>
    <script>
    //knob control
    const containerSpring = document.getElementById('knobSpring')
    const containerMicDistance = document.getElementById('knobMicDistance')
    const containerLowSpeed = document.getElementById('knobLowSpeed')
    const containerAcce = document.getElementById('knobAcce')
    const containerFastSpeed = document.getElementById('knobFastSpeed')
    const containerDece = document.getElementById('knobDece')

    const containerGain = document.getElementById('knobGain')
    const containerVolume = document.getElementById('knobVolume')
    const containerHPF = document.getElementById('knobHPF')
    const containerLow = document.getElementById('knobLow')
    const containerMid = document.getElementById('knobMid')
    const containerHigh = document.getElementById('knobHigh')

    const containerHighF = document.getElementById('knobHighF')
    const containerHighG = document.getElementById('knobHighG')
    const containerMidF = document.getElementById('knobMidF')
    const containerMidQ = document.getElementById('knobMidQ')
    const containerMidG = document.getElementById('knobMidG')
    const containerLowF = document.getElementById('knobLowF')
    const containerLowG = document.getElementById('knobLowG')

    const containerLinkLR1 = document.getElementById('knobLinkLR1')
    const containerLinkLR2 = document.getElementById('knobLinkLR2')
    const containerLinkLR3 = document.getElementById('knobLinkLR3')
    const containerLinkLR4 = document.getElementById('knobLinkLR4')

      function createKnob(container, knobName,spritePath,spriteLength) {
        // const container = document.getElementById(containerId);
        let knobSize = 70;
        // if (window.innerWidth > 1500) {
        //   knobSize = 120;
        // } else if (window.innerWidth > 1200) {
        //   knobSize = 90;
        // }
        // 创建新的 Knob 实例
        const knob = new Knob(knobSize, knobName, 0, 1, defaultValue = 0.5, numberDecimals = 2, suffix = `dB`, spritePath = spritePath, spriteLength = spriteLength);//257
        knob.style.top = `50%`;
        knob.style.left = `30%`;
        knob.style.transform = `translate(-50%, -50%)`;
        document.body.style.cursor = `grabbing`;

        // 添加到容器中
        container.appendChild(knob);
        // 返回 Knob 实例，以便需要时可以进一步操作
        return knob;
        
      }
      
    createKnob(containerSpring, 'SPRING');
    createKnob(containerMicDistance, 'MIC-DISTANCE');
    createKnob(containerLowSpeed, 'LOW-SPEED');
    createKnob(containerAcce, 'ACCELERATION');
    createKnob(containerFastSpeed, 'FAST-SPEED');
    createKnob(containerDece, 'DECELERATION');

    createKnob(containerGain, 'GAIN');
    createKnob(containerVolume, 'VOLUME');
    createKnob(containerHPF, 'INPUT-HPF');
    createKnob(containerLow, 'LOW');
    createKnob(containerMid, 'MID');
    createKnob(containerHigh, 'HIGH');

    createKnob(containerHighF, 'GAIN');
    createKnob(containerHighG, 'VOLUME');
    createKnob(containerMidF, 'INPUT-HPF');
    createKnob(containerMidQ, 'LOW');
    createKnob(containerMidG, 'MID');
    createKnob(containerLowF, 'HIGH');
    createKnob(containerLowG, 'HIGH');

    createKnob(containerLinkLR1, 'LinkLR1','resources/KnobMid.png',129);
    createKnob(containerLinkLR2, 'LinkLR2','resources/KnobMid.png',129);
    createKnob(containerLinkLR3, 'LinkLR3','resources/KnobMid.png',129);
    createKnob(containerLinkLR4, 'LinkLR4','resources/KnobMid.png',129);
 

    </script>
</body>
</html>

